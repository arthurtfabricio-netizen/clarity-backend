<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Clarity â€” DiagnÃ³stico de CansaÃ§o</title>
  <meta name="description" content="Entenda por que vocÃª estÃ¡ cansado e receba um plano personalizado de restauraÃ§Ã£o de energia.">
  <meta name="theme-color" content="#09090b">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,400&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
:root {
  --bg-0: #050506;
  --bg-1: #09090b;
  --bg-2: #0f0f12;
  --bg-3: #16161a;
  --bg-4: #1c1c21;
  --bg-5: #242429;
  --text-1: #fafafa;
  --text-2: #a1a1aa;
  --text-3: #71717a;
  --text-4: #52525b;
  --accent: #a78bfa;
  --accent-dim: rgba(167,139,250,0.15);
  --accent-bright: #c4b5fd;
  --success: #34d399;
  --success-dim: rgba(52,211,153,0.12);
  --warning: #fbbf24;
  --error: #f87171;
  --error-dim: rgba(248,113,113,0.12);
  --border-1: rgba(255,255,255,0.04);
  --border-2: rgba(255,255,255,0.08);
  --border-3: rgba(255,255,255,0.12);
  --font-serif: 'Instrument Serif', Georgia, serif;
  --font-sans: 'DM Sans', -apple-system, sans-serif;
  --r-sm: 8px;
  --r-md: 12px;
  --r-lg: 18px;
  --r-xl: 24px;
  --r-2xl: 32px;
  --shadow: 0 4px 24px rgba(0,0,0,0.4);
  --glow: 0 0 60px -12px var(--accent-dim);
}
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
  font-family: var(--font-sans);
  background: var(--bg-1);
  color: var(--text-1);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  min-height: 100vh;
}
::selection { background: var(--accent); color: var(--bg-1); }
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: var(--bg-2); }
::-webkit-scrollbar-thumb { background: var(--bg-5); border-radius: 3px; }
input, textarea, select, button { font-family: inherit; }
a { color: inherit; text-decoration: none; }

.app { min-height: 100vh; position: relative; }
.app::before {
  content: '';
  position: fixed;
  inset: 0;
  background: radial-gradient(ellipse 100% 60% at 50% 0%, rgba(139,92,246,0.06) 0%, transparent 70%);
  pointer-events: none;
}
.container { position: relative; z-index: 1; }

/* Nav */
.nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 100;
  padding: 16px 24px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: linear-gradient(180deg, var(--bg-1) 0%, rgba(9,9,11,0.9) 60%, transparent 100%);
}
.logo {
  font-family: var(--font-serif);
  font-size: 1.5rem;
  cursor: pointer;
  transition: opacity 0.2s;
}
.logo:hover { opacity: 0.8; }
.logo span { color: var(--accent); }
.lang-switch {
  display: flex;
  gap: 4px;
  background: var(--bg-3);
  padding: 4px;
  border-radius: var(--r-sm);
  border: 1px solid var(--border-2);
}
.lang-btn {
  padding: 6px 12px;
  border: none;
  background: transparent;
  color: var(--text-3);
  font-size: 0.8125rem;
  font-weight: 500;
  cursor: pointer;
  border-radius: 4px;
  transition: all 0.2s;
}
.lang-btn:hover { color: var(--text-2); }
.lang-btn.active { background: var(--bg-5); color: var(--text-1); }

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 14px 24px;
  font-size: 0.9375rem;
  font-weight: 500;
  border: none;
  border-radius: var(--r-lg);
  cursor: pointer;
  transition: all 0.2s;
}
.btn:disabled { opacity: 0.5; cursor: not-allowed; }
.btn-primary {
  background: linear-gradient(135deg, var(--accent) 0%, #8b5cf6 100%);
  color: var(--bg-1);
  box-shadow: var(--glow);
}
.btn-primary:hover:not(:disabled) { transform: translateY(-2px); filter: brightness(1.1); }
.btn-secondary {
  background: var(--bg-3);
  color: var(--text-2);
  border: 1px solid var(--border-2);
}
.btn-secondary:hover:not(:disabled) { background: var(--bg-4); color: var(--text-1); }
.btn-ghost { background: transparent; color: var(--text-2); padding: 10px 16px; }
.btn-ghost:hover { color: var(--text-1); }
.btn-lg { padding: 18px 32px; font-size: 1rem; border-radius: var(--r-xl); }
.btn-full { width: 100%; }
.btn svg { width: 18px; height: 18px; }

/* Forms */
.input {
  width: 100%;
  padding: 14px 18px;
  background: var(--bg-3);
  border: 1px solid var(--border-2);
  border-radius: var(--r-md);
  color: var(--text-1);
  font-size: 1rem;
  transition: all 0.2s;
}
.input:focus { outline: none; border-color: var(--accent); box-shadow: 0 0 0 3px var(--accent-dim); }
.input::placeholder { color: var(--text-4); }
.input-group { margin-bottom: 20px; }
.input-label { display: block; font-size: 0.875rem; font-weight: 500; color: var(--text-2); margin-bottom: 8px; }
.input-hint { font-size: 0.8125rem; color: var(--text-4); margin-top: 6px; }

/* Cards */
.card {
  background: var(--bg-3);
  border: 1px solid var(--border-1);
  border-radius: var(--r-xl);
  padding: 32px;
}

/* Landing Page */
.landing { padding-bottom: 80px; }
.hero {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: 120px 24px 80px;
}
.hero-content { max-width: 720px; animation: fadeUp 0.8s ease; }
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(32px); }
  to { opacity: 1; transform: translateY(0); }
}
.hero-badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  background: var(--accent-dim);
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: 100px;
  font-size: 0.875rem;
  color: var(--accent-bright);
  margin-bottom: 32px;
}
.hero-badge::before {
  content: '';
  width: 6px;
  height: 6px;
  background: var(--accent);
  border-radius: 50%;
  animation: pulse 2s infinite;
}
@keyframes pulse { 0%,100% { opacity: 1; } 50% { opacity: 0.4; } }
.hero h1 {
  font-family: var(--font-serif);
  font-size: clamp(2.5rem, 6vw, 4rem);
  font-weight: 400;
  line-height: 1.15;
  margin-bottom: 24px;
  letter-spacing: -0.02em;
}
.hero h1 em { font-style: italic; color: var(--accent); }
.hero-sub {
  font-size: 1.125rem;
  color: var(--text-2);
  margin-bottom: 40px;
  max-width: 540px;
  margin-left: auto;
  margin-right: auto;
}
.hero-cta { display: flex; flex-direction: column; align-items: center; gap: 12px; }
.hero-trust { margin-top: 48px; font-size: 0.875rem; color: var(--text-4); }

/* Sections */
.section { padding: 100px 24px; max-width: 1000px; margin: 0 auto; }
.section-title {
  font-family: var(--font-serif);
  font-size: 2rem;
  text-align: center;
  margin-bottom: 16px;
}
.section-sub { text-align: center; color: var(--text-2); margin-bottom: 56px; max-width: 500px; margin-left: auto; margin-right: auto; }

/* Steps */
.steps { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 24px; }
.step {
  background: var(--bg-3);
  border: 1px solid var(--border-1);
  border-radius: var(--r-xl);
  padding: 32px;
  transition: all 0.3s;
}
.step:hover { border-color: var(--border-3); transform: translateY(-4px); }
.step-num {
  font-family: var(--font-serif);
  font-size: 2.5rem;
  color: var(--accent);
  opacity: 0.3;
  margin-bottom: 16px;
}
.step h3 { font-family: var(--font-serif); font-size: 1.25rem; margin-bottom: 8px; }
.step p { color: var(--text-2); font-size: 0.9375rem; }

/* Safety */
.safety {
  background: var(--bg-2);
  border-top: 1px solid var(--border-1);
  border-bottom: 1px solid var(--border-1);
  padding: 64px 24px;
  text-align: center;
}
.safety-icon { font-size: 2rem; margin-bottom: 20px; opacity: 0.6; }
.safety h3 { font-family: var(--font-serif); font-size: 1.25rem; margin-bottom: 12px; }
.safety p { color: var(--text-2); max-width: 500px; margin: 0 auto; }

/* Footer */
.footer {
  padding: 40px 24px;
  text-align: center;
  border-top: 1px solid var(--border-1);
}
.footer p { color: var(--text-4); font-size: 0.875rem; }
.footer a { color: var(--text-3); transition: color 0.2s; }
.footer a:hover { color: var(--text-1); }

/* Diagnosis */
.diagnosis-page {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 100px 24px;
}
.diagnosis-card {
  width: 100%;
  max-width: 560px;
  background: var(--bg-3);
  border: 1px solid var(--border-1);
  border-radius: var(--r-2xl);
  padding: 40px;
  animation: fadeUp 0.5s ease;
}
.progress-wrap { margin-bottom: 32px; }
.progress-info { display: flex; justify-content: space-between; font-size: 0.8125rem; color: var(--text-4); margin-bottom: 8px; }
.progress-bar { height: 4px; background: var(--bg-5); border-radius: 2px; overflow: hidden; }
.progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent), #8b5cf6); transition: width 0.4s ease; }
.question { margin-bottom: 32px; }
.question h2 { font-family: var(--font-serif); font-size: 1.5rem; margin-bottom: 8px; line-height: 1.3; }
.question p { color: var(--text-3); font-size: 0.9375rem; }
.options { display: flex; flex-direction: column; gap: 10px; }
.option {
  width: 100%;
  padding: 16px 20px;
  background: var(--bg-4);
  border: 1px solid var(--border-2);
  border-radius: var(--r-md);
  color: var(--text-1);
  font-size: 0.9375rem;
  text-align: left;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 12px;
}
.option:hover { background: var(--bg-5); border-color: var(--border-3); }
.option.selected { background: var(--accent-dim); border-color: var(--accent); }
.option-icon { font-size: 1.25rem; }
.multi-options { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
.multi-option {
  padding: 14px 16px;
  background: var(--bg-4);
  border: 1px solid var(--border-2);
  border-radius: var(--r-md);
  color: var(--text-2);
  font-size: 0.875rem;
  text-align: center;
  cursor: pointer;
  transition: all 0.2s;
}
.multi-option:hover { background: var(--bg-5); color: var(--text-1); }
.multi-option.selected { background: var(--accent-dim); border-color: var(--accent); color: var(--text-1); }
.diagnosis-nav { display: flex; gap: 12px; margin-top: 32px; }
.diagnosis-nav .btn { flex: 1; }

/* Result */
.result-page { min-height: 100vh; padding: 100px 24px; display: flex; justify-content: center; }
.result-card { width: 100%; max-width: 640px; animation: fadeUp 0.6s ease; }
.result-header { text-align: center; margin-bottom: 40px; }
.result-badge {
  display: inline-block;
  padding: 6px 14px;
  background: var(--success-dim);
  border-radius: 100px;
  font-size: 0.8125rem;
  color: var(--success);
  margin-bottom: 20px;
}
.result-header h1 { font-family: var(--font-serif); font-size: 2rem; margin-bottom: 12px; }
.result-header h1 em { color: var(--accent); font-style: italic; }
.result-header p { color: var(--text-2); }
.result-insight { background: var(--bg-3); border: 1px solid var(--border-1); border-radius: var(--r-xl); padding: 32px; margin-bottom: 32px; }
.result-insight h3 { font-family: var(--font-serif); font-size: 1.125rem; color: var(--accent-bright); margin-bottom: 16px; display: flex; align-items: center; gap: 10px; }
.result-insight p { color: var(--text-2); line-height: 1.7; margin-bottom: 16px; }
.result-insight blockquote {
  padding: 14px 18px;
  background: var(--bg-4);
  border-left: 3px solid var(--accent);
  border-radius: 0 var(--r-sm) var(--r-sm) 0;
  color: var(--text-1);
  font-weight: 500;
}
.result-cta {
  background: linear-gradient(135deg, rgba(139,92,246,0.1), rgba(167,139,250,0.1));
  border: 1px solid rgba(167,139,250,0.2);
  border-radius: var(--r-xl);
  padding: 40px;
  text-align: center;
}
.result-cta h3 { font-family: var(--font-serif); font-size: 1.25rem; margin-bottom: 12px; }
.result-cta p { color: var(--text-2); margin-bottom: 24px; }
.result-cta .btn { margin-bottom: 12px; }
.result-price { color: var(--text-3); font-size: 0.875rem; }

/* Checkout */
.checkout-page { min-height: 100vh; padding: 100px 24px; display: flex; justify-content: center; }
.checkout-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 32px; max-width: 900px; width: 100%; }
.checkout-summary, .checkout-form { background: var(--bg-3); border: 1px solid var(--border-1); border-radius: var(--r-xl); padding: 32px; }
.checkout-summary { height: fit-content; }
.checkout-summary h2, .checkout-form h2 { font-family: var(--font-serif); font-size: 1.25rem; margin-bottom: 24px; }
.checkout-items { list-style: none; }
.checkout-items li { display: flex; align-items: center; gap: 12px; padding: 12px 0; color: var(--text-2); border-bottom: 1px solid var(--border-1); }
.checkout-items li:last-child { border-bottom: none; }
.checkout-items .check { color: var(--success); }
.checkout-total { display: flex; justify-content: space-between; align-items: center; padding-top: 20px; margin-top: 20px; border-top: 1px solid var(--border-2); }
.checkout-total span:first-child { font-weight: 500; }
.checkout-total span:last-child { font-family: var(--font-serif); font-size: 1.75rem; color: var(--accent); }
.coupon-row { display: flex; gap: 10px; }
.coupon-row .input { flex: 1; }
.coupon-msg { font-size: 0.8125rem; margin-top: 8px; }
.coupon-msg.success { color: var(--success); }
.coupon-msg.error { color: var(--error); }
.checkout-trust { text-align: center; margin-top: 20px; font-size: 0.8125rem; color: var(--text-4); }
.checkout-legal { text-align: center; margin-top: 16px; padding: 16px; background: var(--bg-4); border-radius: var(--r-md); font-size: 0.8125rem; color: var(--text-3); }

/* Payment */
.payment-section { margin-top: 24px; padding-top: 24px; border-top: 1px solid var(--border-1); }
.payment-tabs { display: flex; gap: 8px; margin-bottom: 20px; }
.payment-tab {
  flex: 1;
  padding: 12px;
  background: var(--bg-4);
  border: 1px solid var(--border-2);
  border-radius: var(--r-md);
  color: var(--text-2);
  font-size: 0.875rem;
  cursor: pointer;
  transition: all 0.2s;
  text-align: center;
}
.payment-tab:hover { background: var(--bg-5); }
.payment-tab.active { background: var(--accent-dim); border-color: var(--accent); color: var(--text-1); }
.pix-container { text-align: center; }
.pix-qr {
  width: 200px;
  height: 200px;
  background: white;
  border-radius: var(--r-md);
  margin: 20px auto;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.875rem;
  color: var(--bg-1);
  overflow: hidden;
}
.pix-qr img { width: 100%; height: 100%; object-fit: contain; }
.pix-code {
  padding: 12px;
  background: var(--bg-4);
  border-radius: var(--r-md);
  font-family: monospace;
  font-size: 0.75rem;
  word-break: break-all;
  margin-bottom: 16px;
  max-height: 60px;
  overflow: hidden;
}
.pix-status { display: flex; align-items: center; justify-content: center; gap: 8px; color: var(--text-3); font-size: 0.875rem; }
.pix-status.checking { color: var(--warning); }
.pix-status.approved { color: var(--success); }
.payment-error { padding: 12px; background: var(--error-dim); border-radius: var(--r-sm); color: var(--error); font-size: 0.8125rem; margin-top: 12px; }

/* Confirmation */
.confirmation-page {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: 100px 24px;
}
.confirmation-content { max-width: 500px; animation: fadeUp 0.6s ease; }
.confirmation-icon {
  width: 80px;
  height: 80px;
  background: linear-gradient(135deg, var(--success), #10b981);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 28px;
  font-size: 2rem;
  color: white;
  animation: bounce 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.2s backwards;
}
@keyframes bounce { from { opacity: 0; transform: scale(0.5); } to { opacity: 1; transform: scale(1); } }
.confirmation-content h1 { font-family: var(--font-serif); font-size: 1.75rem; margin-bottom: 12px; }
.confirmation-content > p { color: var(--text-2); margin-bottom: 32px; }
.confirmation-box { background: var(--bg-3); border: 1px solid var(--border-1); border-radius: var(--r-xl); padding: 28px; margin-bottom: 28px; text-align: left; }
.confirmation-box p { color: var(--text-2); margin-bottom: 12px; }
.confirmation-box .email { color: var(--accent); font-weight: 500; }
.confirmation-loader {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 16px;
  background: var(--accent-dim);
  border-radius: var(--r-md);
  color: var(--accent-bright);
  margin-top: 16px;
}
.confirmation-loader.success { background: var(--success-dim); color: var(--success); }
.confirmation-loader.error { background: var(--error-dim); color: var(--error); }
.spinner {
  width: 18px;
  height: 18px;
  border: 2px solid var(--accent-dim);
  border-top-color: var(--accent);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* Admin */
.admin-layout { display: flex; min-height: 100vh; }
.admin-sidebar {
  width: 260px;
  background: var(--bg-2);
  border-right: 1px solid var(--border-1);
  padding: 28px 16px;
  position: fixed;
  height: 100vh;
  overflow-y: auto;
}
.admin-brand { padding: 0 12px; margin-bottom: 32px; }
.admin-brand h1 { font-family: var(--font-serif); font-size: 1.25rem; }
.admin-brand p { font-size: 0.75rem; color: var(--text-4); text-transform: uppercase; letter-spacing: 0.08em; }
.admin-nav { display: flex; flex-direction: column; gap: 4px; }
.admin-nav-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 14px;
  background: transparent;
  border: none;
  border-radius: var(--r-md);
  color: var(--text-2);
  font-size: 0.9rem;
  cursor: pointer;
  width: 100%;
  text-align: left;
  transition: all 0.2s;
}
.admin-nav-item:hover { background: var(--bg-3); color: var(--text-1); }
.admin-nav-item.active { background: var(--accent-dim); color: var(--accent); }
.admin-nav-item svg { width: 18px; height: 18px; }
.admin-divider { height: 1px; background: var(--border-1); margin: 16px 0; }
.admin-main { flex: 1; margin-left: 260px; padding: 32px; min-height: 100vh; }
.admin-header { margin-bottom: 32px; }
.admin-header h1 { font-family: var(--font-serif); font-size: 1.75rem; margin-bottom: 6px; }
.admin-header p { color: var(--text-3); }
.admin-stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 32px; }
.stat-card { background: var(--bg-3); border: 1px solid var(--border-1); border-radius: var(--r-lg); padding: 24px; }
.stat-label { font-size: 0.8125rem; color: var(--text-4); margin-bottom: 8px; }
.stat-value { font-family: var(--font-serif); font-size: 2rem; }
.admin-card { background: var(--bg-3); border: 1px solid var(--border-1); border-radius: var(--r-lg); margin-bottom: 24px; overflow: hidden; }
.admin-card-header { padding: 20px 24px; border-bottom: 1px solid var(--border-1); display: flex; justify-content: space-between; align-items: center; }
.admin-card-header h3 { font-family: var(--font-serif); font-size: 1.125rem; }
.admin-card-body { padding: 24px; }
.config-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
.config-section { margin-bottom: 32px; }
.config-section:last-child { margin-bottom: 0; }
.config-section-title { font-size: 0.75rem; font-weight: 600; color: var(--accent); text-transform: uppercase; letter-spacing: 0.08em; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 1px solid var(--border-1); }
.config-full { grid-column: 1 / -1; }
.toggle-row { display: flex; justify-content: space-between; align-items: center; padding: 14px 0; border-bottom: 1px solid var(--border-1); }
.toggle-row:last-child { border-bottom: none; }
.toggle {
  width: 48px;
  height: 26px;
  background: var(--bg-4);
  border: 1px solid var(--border-2);
  border-radius: 13px;
  cursor: pointer;
  position: relative;
  transition: all 0.2s;
}
.toggle.active { background: var(--accent); border-color: var(--accent); }
.toggle::after {
  content: '';
  position: absolute;
  top: 2px;
  left: 2px;
  width: 20px;
  height: 20px;
  background: var(--text-1);
  border-radius: 50%;
  transition: all 0.2s;
}
.toggle.active::after { left: 24px; background: var(--bg-1); }
.admin-table { width: 100%; border-collapse: collapse; }
.admin-table th, .admin-table td { text-align: left; padding: 14px 16px; border-bottom: 1px solid var(--border-1); }
.admin-table th { font-size: 0.75rem; font-weight: 600; color: var(--text-4); text-transform: uppercase; background: var(--bg-4); }
.admin-table td { color: var(--text-2); font-size: 0.875rem; }
.admin-table tr:hover td { background: var(--bg-4); }
.badge { display: inline-block; padding: 4px 10px; border-radius: 100px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; }
.badge-success { background: var(--success-dim); color: var(--success); }
.badge-warning { background: rgba(251,191,36,0.12); color: var(--warning); }
.badge-error { background: var(--error-dim); color: var(--error); }
.save-toast {
  position: fixed;
  bottom: 24px;
  right: 24px;
  padding: 14px 20px;
  background: var(--success);
  color: var(--bg-1);
  border-radius: var(--r-md);
  font-weight: 500;
  font-size: 0.875rem;
  box-shadow: var(--shadow);
  animation: slideIn 0.3s ease;
}
@keyframes slideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
.api-status { display: inline-flex; align-items: center; gap: 6px; font-size: 0.75rem; padding: 4px 10px; border-radius: 100px; }
.api-status.configured { background: var(--success-dim); color: var(--success); }
.api-status.missing { background: var(--error-dim); color: var(--error); }

/* Login */
.login-page { min-height: 100vh; display: flex; justify-content: center; align-items: center; padding: 24px; }
.login-card { width: 100%; max-width: 380px; background: var(--bg-3); border: 1px solid var(--border-1); border-radius: var(--r-xl); padding: 40px; text-align: center; }
.login-card h1 { font-family: var(--font-serif); font-size: 1.5rem; margin-bottom: 8px; }
.login-card > p { color: var(--text-3); margin-bottom: 28px; }
.login-card .input-group { text-align: left; }
.login-error { padding: 12px; background: var(--error-dim); border-radius: var(--r-sm); color: var(--error); font-size: 0.8125rem; margin-bottom: 16px; text-align: left; }

/* Responsive */
@media (max-width: 900px) {
  .checkout-grid { grid-template-columns: 1fr; }
}
@media (max-width: 768px) {
  .hero { padding: 100px 20px 60px; }
  .section { padding: 60px 20px; }
  .diagnosis-card, .checkout-form, .checkout-summary { padding: 28px 20px; }
  .multi-options { grid-template-columns: 1fr; }
  .admin-sidebar { width: 220px; }
  .admin-main { margin-left: 220px; padding: 20px; }
}
@media (max-width: 640px) {
  .admin-layout { flex-direction: column; }
  .admin-sidebar { width: 100%; height: auto; position: relative; padding: 16px; }
  .admin-nav { flex-direction: row; flex-wrap: wrap; gap: 8px; }
  .admin-nav-item { flex: 1; min-width: 80px; justify-content: center; padding: 10px; }
  .admin-nav-item span { display: none; }
  .admin-main { margin-left: 0; }
  .diagnosis-nav { flex-direction: column; }
}
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
const { useState, useEffect, useCallback, useMemo, useRef } = React;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// API HELPERS - CHAMADAS REAIS AO BACKEND
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const API = {
  // Criar pagamento no Mercado Pago
  createPayment: async (data) => {
    const res = await fetch('/.netlify/functions/create-payment', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });
    return res.json();
  },

  // Verificar status do pagamento
  checkPayment: async (paymentId) => {
    const res = await fetch('/.netlify/functions/check-payment', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ paymentId })
    });
    return res.json();
  },

  // Gerar PDF personalizado
  generatePDF: async (data) => {
    const res = await fetch('/.netlify/functions/generate-pdf', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });
    return res.json();
  },

  // Enviar email com PDF
  sendEmail: async (data) => {
    const res = await fetch('/.netlify/functions/send-email', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });
    return res.json();
  }
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SISTEMA DE TRADUÃ‡Ã•ES (i18n)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const T = {
  pt: {
    // Landing
    heroBadge: 'AvaliaÃ§Ã£o personalizada',
    heroTitle1: 'Entenda por que vocÃª estÃ¡',
    heroTitle2: 'sempre cansado',
    heroSub: 'Responda algumas perguntas e receba um diagnÃ³stico claro sobre sua fadiga, com um plano personalizado para restaurar sua energia.',
    heroCta: 'Iniciar diagnÃ³stico gratuito',
    heroTrust: 'Mais de 3.000 pessoas jÃ¡ encontraram clareza',
    howItWorks: 'Como funciona',
    howItWorksSub: 'TrÃªs passos simples para entender sua fadiga e comeÃ§ar a se sentir melhor.',
    step1Title: 'Responda com honestidade',
    step1Desc: 'Perguntas cuidadosas sobre sono, energia, estresse e rotina. Leva cerca de 3 minutos.',
    step2Title: 'Receba seu diagnÃ³stico',
    step2Desc: 'AnÃ¡lise personalizada identificando padrÃµes e possÃ­veis causas do seu cansaÃ§o.',
    step3Title: 'Plano de aÃ§Ã£o completo',
    step3Desc: 'Rotina diÃ¡ria, hÃ¡bitos e recomendaÃ§Ãµes especÃ­ficas para suas necessidades.',
    safetyTitle: 'Uma nota importante',
    safetyText: 'Este serviÃ§o oferece clareza e orientaÃ§Ã£o, nÃ£o diagnÃ³stico mÃ©dico. Se vocÃª tem preocupaÃ§Ãµes de saÃºde, consulte sempre um profissional qualificado.',
    
    // Diagnosis
    question: 'Pergunta',
    of: 'de',
    back: 'Voltar',
    continue: 'Continuar',
    seeResults: 'Ver resultado',
    
    // Result
    analysisComplete: 'AnÃ¡lise concluÃ­da',
    hello: 'OlÃ¡',
    resultIntro: 'Com base nas suas respostas, identificamos padrÃµes importantes sobre sua fadiga.',
    planReady: 'Seu plano personalizado estÃ¡ pronto',
    planDesc: 'Receba um PDF completo com rotina diÃ¡ria, hÃ¡bitos recomendados e estratÃ©gias especÃ­ficas para o seu perfil.',
    getPlan: 'Receber meu plano completo',
    instantDelivery: 'Entrega imediata por email',
    
    // Checkout
    planIncludes: 'Seu plano inclui:',
    checkoutItems: [
      'DiagnÃ³stico completo do seu cansaÃ§o',
      'Rotina diÃ¡ria personalizada',
      'HÃ¡bitos para melhorar sono e energia',
      'EstratÃ©gias de gestÃ£o de dopamina',
      'Links para materiais complementares',
      'PDF de ~8 pÃ¡ginas para consultar sempre'
    ],
    total: 'Total',
    finishOrder: 'Finalizar pedido',
    emailLabel: 'Email para entrega',
    emailPlaceholder: 'seu@email.com',
    emailHint: 'Seu PDF serÃ¡ enviado para este email',
    couponLabel: 'Cupom de desconto',
    couponPlaceholder: 'Digite o cupom',
    apply: 'Aplicar',
    discountApplied: 'Desconto de {0}% aplicado!',
    invalidCoupon: 'Cupom invÃ¡lido',
    paymentMethod: 'Forma de pagamento',
    pay: 'Pagar',
    processing: 'Processando...',
    waitingPayment: 'Aguardando confirmaÃ§Ã£o do pagamento...',
    copyPixCode: 'Copiar cÃ³digo PIX',
    securePay: 'ğŸ”’ Pagamento seguro â€¢ Entrega imediata',
    
    // Confirmation
    paymentConfirmed: 'Pagamento confirmado!',
    thankYou: 'Obrigado por confiar na Clarity para te ajudar a entender sua energia.',
    preparingPlan: 'Seu plano personalizado estÃ¡ sendo preparado e serÃ¡ enviado para:',
    generatingPdf: 'Gerando seu PDF personalizado...',
    pdfSent: 'PDF enviado com sucesso!',
    pdfError: 'Erro ao gerar PDF. Entre em contato com o suporte.',
    checkSpam: 'Verifique tambÃ©m sua pasta de spam. DÃºvidas?',
    backHome: 'Voltar ao inÃ­cio',
    
    // Questions
    questions: [
      { id: 'name', type: 'text', q: 'Como podemos te chamar?', sub: 'Seu primeiro nome para personalizarmos a experiÃªncia.', placeholder: 'Seu nome', required: true },
      { id: 'email', type: 'email', q: 'Qual seu melhor email?', sub: 'Ã‰ para onde enviaremos seu plano personalizado.', placeholder: 'seu@email.com', required: true },
      { id: 'age', type: 'select', q: 'Qual sua faixa etÃ¡ria?', sub: 'Isso nos ajuda a contextualizar suas respostas.', options: [
        { v: '18-25', l: '18 a 25 anos' }, { v: '26-35', l: '26 a 35 anos' }, { v: '36-45', l: '36 a 45 anos' },
        { v: '46-55', l: '46 a 55 anos' }, { v: '56+', l: '56 anos ou mais' }
      ]},
      { id: 'sex', type: 'select', q: 'Como vocÃª se identifica?', sub: 'Opcional, mas ajuda na personalizaÃ§Ã£o.', options: [
        { v: 'f', l: 'Feminino' }, { v: 'm', l: 'Masculino' }, { v: 'o', l: 'Outro / Prefiro nÃ£o dizer' }
      ]},
      { id: 'sleep_hours', type: 'select', q: 'Quantas horas vocÃª dorme por noite em mÃ©dia?', sub: 'Considere as Ãºltimas 2 semanas.', options: [
        { v: '<4', l: 'Menos de 4 horas' }, { v: '4-5', l: '4 a 5 horas' }, { v: '6-7', l: '6 a 7 horas' },
        { v: '7-8', l: '7 a 8 horas' }, { v: '>8', l: 'Mais de 8 horas' }
      ]},
      { id: 'sleep_quality', type: 'select', q: 'Como vocÃª descreveria a qualidade do seu sono?', sub: 'Pense em como vocÃª se sente ao acordar.', options: [
        { v: 'otimo', l: 'Ã“tima â€” Acordo renovado' }, { v: 'boa', l: 'Boa â€” Acordo bem' },
        { v: 'regular', l: 'Regular â€” Poderia ser melhor' }, { v: 'ruim', l: 'Ruim â€” Acordo cansado' },
        { v: 'pessima', l: 'PÃ©ssima â€” Durmo mal ou tenho insÃ´nia' }
      ]},
      { id: 'energy_level', type: 'scale', q: 'De 1 a 5, qual seu nÃ­vel de energia na maior parte dos dias?', sub: '1 = Esgotado | 5 = Cheio de energia', options: [
        { v: 1, l: '1 â€” Esgotado' }, { v: 2, l: '2 â€” Muito cansado' }, { v: 3, l: '3 â€” CansaÃ§o moderado' },
        { v: 4, l: '4 â€” Com energia' }, { v: 5, l: '5 â€” Cheio de energia' }
      ]},
      { id: 'energy_time', type: 'select', q: 'Em qual momento do dia vocÃª sente mais cansaÃ§o?', sub: 'Isso revela padrÃµes importantes.', options: [
        { v: 'manha', l: 'Logo ao acordar' }, { v: 'meio', l: 'Meio da manhÃ£' },
        { v: 'tarde', l: 'ApÃ³s o almoÃ§o' }, { v: 'noite', l: 'Final do dia' }, { v: 'sempre', l: 'O dia todo' }
      ]},
      { id: 'diet', type: 'select', q: 'Como vocÃª descreveria sua alimentaÃ§Ã£o?', sub: 'Sem julgamentos, sÃ³ para entender seu contexto.', options: [
        { v: 'equilibrada', l: 'Equilibrada e regular' }, { v: 'irregular', l: 'Irregular â€” como quando dÃ¡' },
        { v: 'processados', l: 'Muitos processados e delivery' }, { v: 'restricao', l: 'Dieta restritiva ou regime' },
        { v: 'pular', l: 'Costumo pular refeiÃ§Ãµes' }
      ]},
      { id: 'stress', type: 'scale', q: 'Qual seu nÃ­vel de estresse atualmente?', sub: '1 = Tranquilo | 5 = Muito estressado', options: [
        { v: 1, l: '1 â€” Tranquilo' }, { v: 2, l: '2 â€” Leve' }, { v: 3, l: '3 â€” Moderado' },
        { v: 4, l: '4 â€” Alto' }, { v: 5, l: '5 â€” Muito alto' }
      ]},
      { id: 'stress_sources', type: 'multi', q: 'Quais sÃ£o suas principais fontes de estresse?', sub: 'Selecione todas que se aplicam.', options: [
        { v: 'trabalho', l: 'Trabalho' }, { v: 'financeiro', l: 'Financeiro' }, { v: 'familia', l: 'FamÃ­lia' },
        { v: 'relacionamento', l: 'Relacionamento' }, { v: 'saude', l: 'SaÃºde' }, { v: 'futuro', l: 'Incerteza sobre o futuro' },
        { v: 'social', l: 'PressÃ£o social' }, { v: 'nenhum', l: 'Nenhum especÃ­fico' }
      ]},
      { id: 'work', type: 'select', q: 'Como Ã© sua rotina de trabalho?', sub: 'Considere seu trabalho principal.', options: [
        { v: 'presencial', l: 'Presencial â€” horÃ¡rio fixo' }, { v: 'home', l: 'Home office' },
        { v: 'hibrido', l: 'HÃ­brido' }, { v: 'autonomo', l: 'AutÃ´nomo â€” horÃ¡rios variados' },
        { v: 'desempregado', l: 'NÃ£o estou trabalhando' }, { v: 'estudante', l: 'Estudante' }
      ]},
      { id: 'exercise', type: 'select', q: 'Com que frequÃªncia vocÃª pratica exercÃ­cios fÃ­sicos?', sub: 'Qualquer tipo de atividade conta.', options: [
        { v: 'nunca', l: 'Nunca ou raramente' }, { v: '1-2x', l: '1-2 vezes por semana' },
        { v: '3-4x', l: '3-4 vezes por semana' }, { v: '5+', l: '5 ou mais vezes' }
      ]},
      { id: 'screens', type: 'select', q: 'Quanto tempo por dia vocÃª passa em telas?', sub: 'Celular, computador, TV â€” tudo conta.', options: [
        { v: '<2', l: 'Menos de 2 horas' }, { v: '2-4', l: '2 a 4 horas' }, { v: '4-8', l: '4 a 8 horas' },
        { v: '8-12', l: '8 a 12 horas' }, { v: '>12', l: 'Mais de 12 horas' }
      ]},
      { id: 'trauma', type: 'select', q: 'VocÃª passou por alguma situaÃ§Ã£o difÃ­cil recentemente?', sub: 'Opcional. Responda apenas se se sentir confortÃ¡vel.', options: [
        { v: 'nao', l: 'NÃ£o' }, { v: 'luto', l: 'Perda de alguÃ©m prÃ³ximo' },
        { v: 'separacao', l: 'SeparaÃ§Ã£o ou fim de relacionamento' }, { v: 'saude', l: 'Problemas de saÃºde' },
        { v: 'mudanca', l: 'MudanÃ§a grande de vida' }, { v: 'outro', l: 'Outra situaÃ§Ã£o difÃ­cil' },
        { v: 'prefiro', l: 'Prefiro nÃ£o responder' }
      ]},
      { id: 'goal', type: 'select', q: 'O que vocÃª mais espera deste diagnÃ³stico?', sub: 'Isso nos ajuda a focar nas suas necessidades.', options: [
        { v: 'entender', l: 'Entender por que estou cansado' }, { v: 'rotina', l: 'Uma rotina para ter mais energia' },
        { v: 'habitos', l: 'Identificar hÃ¡bitos prejudiciais' }, { v: 'validacao', l: 'ValidaÃ§Ã£o do que estou sentindo' },
        { v: 'todos', l: 'Todos os anteriores' }
      ]}
    ],
    
    // Insights
    insights: {
      overload: { title: 'Esgotamento por Sobrecarga', text: 'Seu corpo estÃ¡ sinalizando que a demanda estÃ¡ maior que sua capacidade de recuperaÃ§Ã£o. O alto nÃ­vel de estresse combinado com baixa energia indica um padrÃ£o de esgotamento que precisa de atenÃ§Ã£o.', rec: 'Priorize a reduÃ§Ã£o de demandas e aumente os momentos de recuperaÃ§Ã£o ativa.' },
      sleep: { title: 'DÃ©ficit de Sono Restaurador', text: 'A qualidade do seu sono estÃ¡ comprometendo sua capacidade de recuperaÃ§Ã£o. Mesmo que vocÃª durma muitas horas, seu corpo nÃ£o estÃ¡ conseguindo se restaurar adequadamente durante a noite.', rec: 'Foque em melhorar a qualidade do sono antes de aumentar a quantidade.' },
      chronic: { title: 'Fadiga CrÃ´nica Constante', text: 'VocÃª relata cansaÃ§o persistente ao longo de todo o dia. Isso pode indicar que seu corpo estÃ¡ operando em modo de baixa energia como padrÃ£o, possivelmente como resposta adaptativa a estressores prolongados.', rec: 'Pequenas mudanÃ§as graduais terÃ£o mais impacto que grandes transformaÃ§Ãµes.' },
      imbalance: { title: 'DesequilÃ­brio EnergÃ©tico', text: 'Seus padrÃµes de energia indicam um desequilÃ­brio entre gasto e recuperaÃ§Ã£o. Seu corpo estÃ¡ funcionando, mas nÃ£o de forma otimizada. HÃ¡ espaÃ§o significativo para melhorias com ajustes direcionados.', rec: 'Um plano estruturado pode ajudar a restaurar seu equilÃ­brio energÃ©tico.' }
    },
    
    // Admin
    admin: {
      title: 'Admin',
      login: 'Acesse o painel de controle',
      email: 'Email',
      password: 'Senha',
      enter: 'Entrar',
      wrongCredentials: 'Email ou senha incorretos',
      overview: 'VisÃ£o geral',
      orders: 'Pedidos',
      settings: 'ConfiguraÃ§Ãµes',
      viewSite: 'Ver site',
      logout: 'Sair',
      totalOrders: 'Total de pedidos',
      totalRevenue: 'Receita total',
      ordersToday: 'Pedidos hoje',
      recentOrders: 'Ãšltimos pedidos',
      allOrders: 'Todos os pedidos realizados',
      noOrders: 'Nenhum pedido ainda',
      businessSettings: 'ConfiguraÃ§Ãµes do NegÃ³cio',
      price: 'PreÃ§o',
      currency: 'Moeda',
      couponCode: 'CÃ³digo do cupom',
      couponDiscount: 'Desconto do cupom (%)',
      supportEmail: 'Email de suporte',
      legalText: 'Texto legal (footer)',
      adminAccount: 'Conta Admin',
      adminEmail: 'Email do admin',
      adminPassword: 'Senha do admin',
      apiStatus: 'Status das APIs',
      configured: 'Configurada',
      notConfigured: 'NÃ£o configurada',
      apisNote: 'As chaves de API sÃ£o configuradas via variÃ¡veis de ambiente no Netlify. NÃ£o Ã© necessÃ¡rio inserir aqui.'
    }
  },
  
  en: {
    // Landing
    heroBadge: 'Personalized assessment',
    heroTitle1: 'Understand why you\'re',
    heroTitle2: 'always tired',
    heroSub: 'Answer a few questions and receive a clear diagnosis about your fatigue, with a personalized plan to restore your energy.',
    heroCta: 'Start free diagnosis',
    heroTrust: 'Over 3,000 people have found clarity',
    howItWorks: 'How it works',
    howItWorksSub: 'Three simple steps to understand your fatigue and start feeling better.',
    step1Title: 'Answer honestly',
    step1Desc: 'Careful questions about sleep, energy, stress and routine. Takes about 3 minutes.',
    step2Title: 'Get your diagnosis',
    step2Desc: 'Personalized analysis identifying patterns and possible causes of your tiredness.',
    step3Title: 'Complete action plan',
    step3Desc: 'Daily routine, habits and specific recommendations for your needs.',
    safetyTitle: 'An important note',
    safetyText: 'This service offers clarity and guidance, not medical diagnosis. If you have health concerns, always consult a qualified professional.',
    
    // Diagnosis
    question: 'Question',
    of: 'of',
    back: 'Back',
    continue: 'Continue',
    seeResults: 'See results',
    
    // Result
    analysisComplete: 'Analysis complete',
    hello: 'Hello',
    resultIntro: 'Based on your answers, we identified important patterns about your fatigue.',
    planReady: 'Your personalized plan is ready',
    planDesc: 'Receive a complete PDF with daily routine, recommended habits and specific strategies for your profile.',
    getPlan: 'Get my complete plan',
    instantDelivery: 'Instant email delivery',
    
    // Checkout
    planIncludes: 'Your plan includes:',
    checkoutItems: [
      'Complete diagnosis of your fatigue',
      'Personalized daily routine',
      'Habits to improve sleep and energy',
      'Dopamine management strategies',
      'Links to complementary materials',
      '~8 page PDF for reference'
    ],
    total: 'Total',
    finishOrder: 'Complete order',
    emailLabel: 'Delivery email',
    emailPlaceholder: 'your@email.com',
    emailHint: 'Your PDF will be sent to this email',
    couponLabel: 'Discount coupon',
    couponPlaceholder: 'Enter coupon',
    apply: 'Apply',
    discountApplied: '{0}% discount applied!',
    invalidCoupon: 'Invalid coupon',
    paymentMethod: 'Payment method',
    pay: 'Pay',
    processing: 'Processing...',
    waitingPayment: 'Waiting for payment confirmation...',
    copyPixCode: 'Copy PIX code',
    securePay: 'ğŸ”’ Secure payment â€¢ Instant delivery',
    
    // Confirmation
    paymentConfirmed: 'Payment confirmed!',
    thankYou: 'Thank you for trusting Clarity to help you understand your energy.',
    preparingPlan: 'Your personalized plan is being prepared and will be sent to:',
    generatingPdf: 'Generating your personalized PDF...',
    pdfSent: 'PDF sent successfully!',
    pdfError: 'Error generating PDF. Please contact support.',
    checkSpam: 'Also check your spam folder. Questions?',
    backHome: 'Back to home',
    
    // Questions
    questions: [
      { id: 'name', type: 'text', q: 'What should we call you?', sub: 'Your first name to personalize the experience.', placeholder: 'Your name', required: true },
      { id: 'email', type: 'email', q: 'What\'s your best email?', sub: 'This is where we\'ll send your personalized plan.', placeholder: 'your@email.com', required: true },
      { id: 'age', type: 'select', q: 'What\'s your age range?', sub: 'This helps us contextualize your answers.', options: [
        { v: '18-25', l: '18 to 25 years' }, { v: '26-35', l: '26 to 35 years' }, { v: '36-45', l: '36 to 45 years' },
        { v: '46-55', l: '46 to 55 years' }, { v: '56+', l: '56 years or older' }
      ]},
      { id: 'sex', type: 'select', q: 'How do you identify?', sub: 'Optional, but helps with personalization.', options: [
        { v: 'f', l: 'Female' }, { v: 'm', l: 'Male' }, { v: 'o', l: 'Other / Prefer not to say' }
      ]},
      { id: 'sleep_hours', type: 'select', q: 'How many hours do you sleep per night on average?', sub: 'Consider the last 2 weeks.', options: [
        { v: '<4', l: 'Less than 4 hours' }, { v: '4-5', l: '4 to 5 hours' }, { v: '6-7', l: '6 to 7 hours' },
        { v: '7-8', l: '7 to 8 hours' }, { v: '>8', l: 'More than 8 hours' }
      ]},
      { id: 'sleep_quality', type: 'select', q: 'How would you describe your sleep quality?', sub: 'Think about how you feel when you wake up.', options: [
        { v: 'otimo', l: 'Great â€” I wake up refreshed' }, { v: 'boa', l: 'Good â€” I wake up fine' },
        { v: 'regular', l: 'Regular â€” Could be better' }, { v: 'ruim', l: 'Poor â€” I wake up tired' },
        { v: 'pessima', l: 'Terrible â€” I sleep badly or have insomnia' }
      ]},
      { id: 'energy_level', type: 'scale', q: 'From 1 to 5, what\'s your energy level most days?', sub: '1 = Exhausted | 5 = Full of energy', options: [
        { v: 1, l: '1 â€” Exhausted' }, { v: 2, l: '2 â€” Very tired' }, { v: 3, l: '3 â€” Moderate tiredness' },
        { v: 4, l: '4 â€” Energetic' }, { v: 5, l: '5 â€” Full of energy' }
      ]},
      { id: 'energy_time', type: 'select', q: 'When do you feel most tired during the day?', sub: 'This reveals important patterns.', options: [
        { v: 'manha', l: 'Right after waking up' }, { v: 'meio', l: 'Mid-morning' },
        { v: 'tarde', l: 'After lunch' }, { v: 'noite', l: 'End of day' }, { v: 'sempre', l: 'All day long' }
      ]},
      { id: 'diet', type: 'select', q: 'How would you describe your diet?', sub: 'No judgment, just to understand your context.', options: [
        { v: 'equilibrada', l: 'Balanced and regular' }, { v: 'irregular', l: 'Irregular â€” eat when I can' },
        { v: 'processados', l: 'Lots of processed food and delivery' }, { v: 'restricao', l: 'Restrictive diet' },
        { v: 'pular', l: 'Often skip meals' }
      ]},
      { id: 'stress', type: 'scale', q: 'What\'s your current stress level?', sub: '1 = Calm | 5 = Very stressed', options: [
        { v: 1, l: '1 â€” Calm' }, { v: 2, l: '2 â€” Light' }, { v: 3, l: '3 â€” Moderate' },
        { v: 4, l: '4 â€” High' }, { v: 5, l: '5 â€” Very high' }
      ]},
      { id: 'stress_sources', type: 'multi', q: 'What are your main sources of stress?', sub: 'Select all that apply.', options: [
        { v: 'trabalho', l: 'Work' }, { v: 'financeiro', l: 'Financial' }, { v: 'familia', l: 'Family' },
        { v: 'relacionamento', l: 'Relationship' }, { v: 'saude', l: 'Health' }, { v: 'futuro', l: 'Uncertainty about future' },
        { v: 'social', l: 'Social pressure' }, { v: 'nenhum', l: 'None specific' }
      ]},
      { id: 'work', type: 'select', q: 'What\'s your work routine like?', sub: 'Consider your main job.', options: [
        { v: 'presencial', l: 'In-person â€” fixed schedule' }, { v: 'home', l: 'Home office' },
        { v: 'hibrido', l: 'Hybrid' }, { v: 'autonomo', l: 'Freelance â€” varied schedule' },
        { v: 'desempregado', l: 'Not working' }, { v: 'estudante', l: 'Student' }
      ]},
      { id: 'exercise', type: 'select', q: 'How often do you exercise?', sub: 'Any type of activity counts.', options: [
        { v: 'nunca', l: 'Never or rarely' }, { v: '1-2x', l: '1-2 times per week' },
        { v: '3-4x', l: '3-4 times per week' }, { v: '5+', l: '5 or more times' }
      ]},
      { id: 'screens', type: 'select', q: 'How much time do you spend on screens daily?', sub: 'Phone, computer, TV â€” all count.', options: [
        { v: '<2', l: 'Less than 2 hours' }, { v: '2-4', l: '2 to 4 hours' }, { v: '4-8', l: '4 to 8 hours' },
        { v: '8-12', l: '8 to 12 hours' }, { v: '>12', l: 'More than 12 hours' }
      ]},
      { id: 'trauma', type: 'select', q: 'Have you been through a difficult situation recently?', sub: 'Optional. Only answer if comfortable.', options: [
        { v: 'nao', l: 'No' }, { v: 'luto', l: 'Loss of someone close' },
        { v: 'separacao', l: 'Breakup or end of relationship' }, { v: 'saude', l: 'Health problems' },
        { v: 'mudanca', l: 'Major life change' }, { v: 'outro', l: 'Other difficult situation' },
        { v: 'prefiro', l: 'Prefer not to say' }
      ]},
      { id: 'goal', type: 'select', q: 'What do you most expect from this diagnosis?', sub: 'This helps us focus on your needs.', options: [
        { v: 'entender', l: 'Understand why I\'m tired' }, { v: 'rotina', l: 'A routine for more energy' },
        { v: 'habitos', l: 'Identify harmful habits' }, { v: 'validacao', l: 'Validation of what I\'m feeling' },
        { v: 'todos', l: 'All of the above' }
      ]}
    ],
    
    // Insights
    insights: {
      overload: { title: 'Burnout from Overload', text: 'Your body is signaling that demand exceeds your recovery capacity. High stress combined with low energy indicates a burnout pattern that needs attention.', rec: 'Prioritize reducing demands and increase active recovery moments.' },
      sleep: { title: 'Restorative Sleep Deficit', text: 'Your sleep quality is compromising your recovery capacity. Even if you sleep many hours, your body is not restoring itself properly during the night.', rec: 'Focus on improving sleep quality before increasing quantity.' },
      chronic: { title: 'Constant Chronic Fatigue', text: 'You report persistent tiredness throughout the day. This may indicate your body is operating in low-energy mode as default, possibly as an adaptive response to prolonged stressors.', rec: 'Small gradual changes will have more impact than big transformations.' },
      imbalance: { title: 'Energy Imbalance', text: 'Your energy patterns indicate an imbalance between expenditure and recovery. Your body is functioning but not optimally. There is significant room for improvement with targeted adjustments.', rec: 'A structured plan can help restore your energy balance.' }
    },
    
    // Admin (same as PT, keeping English keys)
    admin: {
      title: 'Admin',
      login: 'Access control panel',
      email: 'Email',
      password: 'Password',
      enter: 'Enter',
      wrongCredentials: 'Wrong email or password',
      overview: 'Overview',
      orders: 'Orders',
      settings: 'Settings',
      viewSite: 'View site',
      logout: 'Logout',
      totalOrders: 'Total orders',
      totalRevenue: 'Total revenue',
      ordersToday: 'Orders today',
      recentOrders: 'Recent orders',
      allOrders: 'All orders',
      noOrders: 'No orders yet',
      businessSettings: 'Business Settings',
      price: 'Price',
      currency: 'Currency',
      couponCode: 'Coupon code',
      couponDiscount: 'Coupon discount (%)',
      supportEmail: 'Support email',
      legalText: 'Legal text (footer)',
      adminAccount: 'Admin Account',
      adminEmail: 'Admin email',
      adminPassword: 'Admin password',
      apiStatus: 'API Status',
      configured: 'Configured',
      notConfigured: 'Not configured',
      apisNote: 'API keys are configured via environment variables in Netlify. No need to enter them here.'
    }
  }
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONFIG & STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const DEFAULT_CONFIG = {
  business: {
    price: 19.90,
    currency: 'BRL',
    couponCode: 'ENERGIA20',
    couponDiscount: 20,
    supportEmail: 'suporte@clarity.com.br',
    legalText: 'Este serviÃ§o nÃ£o substitui avaliaÃ§Ã£o mÃ©dica profissional. Consulte um especialista para questÃµes de saÃºde.'
  }
};

const DEFAULT_ADMIN = { email: 'admin@clarity.com', password: 'clarity2025' };

const getConfig = () => {
  try { return { ...DEFAULT_CONFIG, ...JSON.parse(localStorage.getItem('clarity_config')) }; }
  catch { return DEFAULT_CONFIG; }
};

const getOrders = () => {
  try { return JSON.parse(localStorage.getItem('clarity_orders')) || []; }
  catch { return []; }
};

const getAdmin = () => {
  try { return { ...DEFAULT_ADMIN, ...JSON.parse(localStorage.getItem('clarity_admin')) }; }
  catch { return DEFAULT_ADMIN; }
};

// Detectar idioma do navegador
const detectLanguage = () => {
  const stored = localStorage.getItem('clarity_lang');
  if (stored) return stored;
  const browserLang = navigator.language || navigator.userLanguage || 'en';
  return browserLang.toLowerCase().startsWith('pt') ? 'pt' : 'en';
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HELPERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const generateInsight = (answers, lang) => {
  const t = T[lang].insights;
  const energy = answers.energy_level || 3;
  const sleep = answers.sleep_quality;
  const stress = answers.stress || 3;

  if (energy <= 2 && stress >= 4) return t.overload;
  if (sleep === 'ruim' || sleep === 'pessima') return t.sleep;
  if (answers.energy_time === 'sempre') return t.chronic;
  return t.imbalance;
};

const formatPrice = (value, currency) => {
  const symbols = { BRL: 'R$', USD: '$', EUR: 'â‚¬' };
  const formatted = value.toFixed(2).replace('.', currency === 'BRL' ? ',' : '.');
  return `${symbols[currency] || 'R$'} ${formatted}`;
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ICONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const Icon = {
  Arrow: () => <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>,
  ArrowLeft: () => <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>,
  Home: () => <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/></svg>,
  Settings: () => <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="3"/><path d="M12 1v2m0 18v2M4.2 4.2l1.4 1.4m12.8 12.8 1.4 1.4M1 12h2m18 0h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4"/></svg>,
  Card: () => <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="1" y="4" width="22" height="16" rx="2"/><line x1="1" y1="10" x2="23" y2="10"/></svg>,
  Chart: () => <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="20" x2="12" y2="10"/><line x1="18" y1="20" x2="18" y2="4"/><line x1="6" y1="20" x2="6" y2="16"/></svg>,
  Logout: () => <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>,
  Eye: () => <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>,
  Check: () => <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="20 6 9 17 4 12"/></svg>,
  File: () => <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// COMPONENTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const Nav = ({ onLogoClick, lang, setLang }) => (
  <nav className="nav">
    <div className="logo" onClick={onLogoClick}>Clarity<span>.</span></div>
    <div className="lang-switch">
      <button className={`lang-btn ${lang === 'pt' ? 'active' : ''}`} onClick={() => setLang('pt')}>PT</button>
      <button className={`lang-btn ${lang === 'en' ? 'active' : ''}`} onClick={() => setLang('en')}>EN</button>
    </div>
  </nav>
);

const Footer = ({ config }) => (
  <footer className="footer">
    <p>{config.business.legalText}</p>
    <p style={{ marginTop: '12px' }}>DÃºvidas? <a href={`mailto:${config.business.supportEmail}`}>{config.business.supportEmail}</a></p>
  </footer>
);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// LANDING PAGE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const LandingPage = ({ navigate, config, lang, setLang }) => {
  const t = T[lang];
  return (
    <div className="landing">
      <Nav onLogoClick={() => navigate('/')} lang={lang} setLang={setLang} />
      <section className="hero">
        <div className="hero-content">
          <div className="hero-badge">{t.heroBadge}</div>
          <h1>{t.heroTitle1} <em>{t.heroTitle2}</em></h1>
          <p className="hero-sub">{t.heroSub}</p>
          <div className="hero-cta">
            <button className="btn btn-primary btn-lg" onClick={() => navigate('/diagnostico')}>
              {t.heroCta} <Icon.Arrow />
            </button>
          </div>
          <p className="hero-trust">{t.heroTrust}</p>
        </div>
      </section>

      <section className="section">
        <h2 className="section-title">{t.howItWorks}</h2>
        <p className="section-sub">{t.howItWorksSub}</p>
        <div className="steps">
          <div className="step"><div className="step-num">01</div><h3>{t.step1Title}</h3><p>{t.step1Desc}</p></div>
          <div className="step"><div className="step-num">02</div><h3>{t.step2Title}</h3><p>{t.step2Desc}</p></div>
          <div className="step"><div className="step-num">03</div><h3>{t.step3Title}</h3><p>{t.step3Desc}</p></div>
        </div>
      </section>

      <section className="safety">
        <div className="safety-icon">ğŸ›¡ï¸</div>
        <h3>{t.safetyTitle}</h3>
        <p>{t.safetyText}</p>
      </section>

      <Footer config={config} />
    </div>
  );
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DIAGNOSIS PAGE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const DiagnosisPage = ({ navigate, answers, setAnswers, lang, setLang }) => {
  const [current, setCurrent] = useState(0);
  const t = T[lang];
  const questions = t.questions;
  const q = questions[current];
  const progress = ((current + 1) / questions.length) * 100;
  const isLast = current === questions.length - 1;

  const handleAnswer = (value) => {
    if (q.type === 'multi') {
      const curr = answers[q.id] || [];
      setAnswers({ ...answers, [q.id]: curr.includes(value) ? curr.filter(v => v !== value) : [...curr, value] });
    } else {
      setAnswers({ ...answers, [q.id]: value });
    }
  };

  const canContinue = () => {
    const a = answers[q.id];
    if (!q.required && !a) return true;
    if (q.type === 'text' || q.type === 'email') return a && a.trim().length > 0;
    if (q.type === 'multi') return a && a.length > 0;
    return a !== undefined;
  };

  return (
    <div className="app">
      <Nav onLogoClick={() => navigate('/')} lang={lang} setLang={setLang} />
      <div className="container">
        <div className="diagnosis-page">
          <div className="diagnosis-card">
            <div className="progress-wrap">
              <div className="progress-info">
                <span>{t.question} {current + 1} {t.of} {questions.length}</span>
                <span>{Math.round(progress)}%</span>
              </div>
              <div className="progress-bar"><div className="progress-fill" style={{ width: `${progress}%` }} /></div>
            </div>

            <div className="question">
              <h2>{q.q}</h2>
              <p>{q.sub}</p>
            </div>

            {(q.type === 'text' || q.type === 'email') && (
              <input type={q.type} className="input" placeholder={q.placeholder} value={answers[q.id] || ''} onChange={e => handleAnswer(e.target.value)} autoFocus />
            )}

            {(q.type === 'select' || q.type === 'scale') && (
              <div className="options">
                {q.options.map(opt => (
                  <button key={opt.v} className={`option ${answers[q.id] === opt.v ? 'selected' : ''}`} onClick={() => handleAnswer(opt.v)}>{opt.l}</button>
                ))}
              </div>
            )}

            {q.type === 'multi' && (
              <div className="multi-options">
                {q.options.map(opt => (
                  <button key={opt.v} className={`multi-option ${(answers[q.id] || []).includes(opt.v) ? 'selected' : ''}`} onClick={() => handleAnswer(opt.v)}>{opt.l}</button>
                ))}
              </div>
            )}

            <div className="diagnosis-nav">
              <button className="btn btn-secondary" onClick={() => current > 0 ? setCurrent(c => c - 1) : navigate('/')}>
                <Icon.ArrowLeft /> {t.back}
              </button>
              <button className="btn btn-primary" onClick={() => isLast ? navigate('/resultado-parcial') : setCurrent(c => c + 1)} disabled={!canContinue()}>
                {isLast ? t.seeResults : t.continue} <Icon.Arrow />
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RESULT PAGE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const ResultPage = ({ navigate, answers, config, lang, setLang }) => {
  const t = T[lang];
  const name = answers.name || (lang === 'pt' ? 'vocÃª' : 'there');
  const insight = generateInsight(answers, lang);

  return (
    <div className="app">
      <Nav onLogoClick={() => navigate('/')} lang={lang} setLang={setLang} />
      <div className="container">
        <div className="result-page">
          <div className="result-card">
            <div className="result-header">
              <div className="result-badge">{t.analysisComplete}</div>
              <h1>{t.hello}, <em>{name}</em></h1>
              <p>{t.resultIntro}</p>
            </div>

            <div className="result-insight">
              <h3>ğŸ” {insight.title}</h3>
              <p>{insight.text}</p>
              <blockquote>{insight.rec}</blockquote>
            </div>

            <div className="result-cta">
              <h3>{t.planReady}</h3>
              <p>{t.planDesc}</p>
              <button className="btn btn-primary btn-lg" onClick={() => navigate('/checkout')}>
                {t.getPlan} <Icon.Arrow />
              </button>
              <p className="result-price">{formatPrice(config.business.price, config.business.currency)} â€” {t.instantDelivery}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CHECKOUT PAGE - COM INTEGRAÃ‡ÃƒO REAL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const CheckoutPage = ({ navigate, answers, config, setOrders, lang, setLang }) => {
  const t = T[lang];
  const [email, setEmail] = useState(answers.email || '');
  const [coupon, setCoupon] = useState('');
  const [couponStatus, setCouponStatus] = useState(null);
  const [paymentMethod, setPaymentMethod] = useState('pix');
  const [processing, setProcessing] = useState(false);
  const [pixData, setPixData] = useState(null);
  const [paymentId, setPaymentId] = useState(null);
  const [error, setError] = useState(null);
  const pollRef = useRef(null);

  const basePrice = config.business.price;
  const discount = couponStatus === 'valid' ? config.business.couponDiscount : 0;
  const finalPrice = basePrice * (1 - discount / 100);

  // Limpar polling ao desmontar
  useEffect(() => {
    return () => {
      if (pollRef.current) clearInterval(pollRef.current);
    };
  }, []);

  const applyCoupon = () => {
    if (coupon.toUpperCase() === config.business.couponCode?.toUpperCase()) {
      setCouponStatus('valid');
    } else {
      setCouponStatus('invalid');
    }
  };

  const createPayment = async () => {
    if (!email || !email.includes('@')) return;
    setProcessing(true);
    setError(null);

    const orderId = `CLR-${Date.now()}`;

    try {
      const result = await API.createPayment({
        email,
        amount: finalPrice,
        currency: config.business.currency,
        paymentMethod,
        description: lang === 'pt' ? 'Clarity - DiagnÃ³stico de CansaÃ§o' : 'Clarity - Fatigue Diagnosis',
        orderId
      });

      if (result.error) {
        throw new Error(result.error);
      }

      if (paymentMethod === 'pix') {
        setPixData({
          code: result.pixCode,
          qrBase64: result.pixQrCode
        });
        setPaymentId(result.paymentId);
        
        // Iniciar polling para verificar pagamento
        pollRef.current = setInterval(async () => {
          try {
            const status = await API.checkPayment(result.paymentId);
            if (status.status === 'approved') {
              clearInterval(pollRef.current);
              completeOrder(orderId);
            }
          } catch (e) {
            console.error('Poll error:', e);
          }
        }, 3000);
        
        setProcessing(false);
      } else {
        // CartÃ£o - redirecionar para Mercado Pago
        if (result.initPoint) {
          // Salvar dados do pedido antes de redirecionar
          localStorage.setItem('clarity_pending_order', JSON.stringify({
            orderId,
            email,
            name: answers.name,
            answers,
            price: finalPrice,
            currency: config.business.currency,
            couponUsed: couponStatus === 'valid' ? coupon : null,
            paymentMethod,
            lang
          }));
          window.location.href = result.initPoint;
        }
      }
    } catch (err) {
      console.error('Payment error:', err);
      setError(err.message || 'Erro ao criar pagamento');
      setProcessing(false);
    }
  };

  const completeOrder = (orderId) => {
    const order = {
      id: orderId,
      email,
      name: answers.name,
      answers,
      price: finalPrice,
      currency: config.business.currency,
      couponUsed: couponStatus === 'valid' ? coupon : null,
      paymentMethod,
      paymentId,
      status: 'completed',
      createdAt: new Date().toISOString(),
      lang
    };
    
    setOrders(prev => [...prev, order]);
    navigate('/confirmacao', { email, orderId, answers, lang });
  };

  return (
    <div className="app">
      <Nav onLogoClick={() => navigate('/')} lang={lang} setLang={setLang} />
      <div className="container">
        <div className="checkout-page">
          <div className="checkout-grid">
            <div className="checkout-summary">
              <h2>{t.planIncludes}</h2>
              <ul className="checkout-items">
                {t.checkoutItems.map((item, i) => (
                  <li key={i}><span className="check">âœ“</span> {item}</li>
                ))}
              </ul>
              <div className="checkout-total">
                <span>{t.total}</span>
                <span>{formatPrice(finalPrice, config.business.currency)}</span>
              </div>
            </div>

            <div className="checkout-form">
              <h2>{t.finishOrder}</h2>
              
              <div className="input-group">
                <label className="input-label">{t.emailLabel}</label>
                <input type="email" className="input" placeholder={t.emailPlaceholder} value={email} onChange={e => setEmail(e.target.value)} />
                <p className="input-hint">{t.emailHint}</p>
              </div>

              <div className="input-group">
                <label className="input-label">{t.couponLabel}</label>
                <div className="coupon-row">
                  <input type="text" className="input" placeholder={t.couponPlaceholder} value={coupon} onChange={e => { setCoupon(e.target.value); setCouponStatus(null); }} disabled={couponStatus === 'valid'} />
                  <button className="btn btn-secondary" onClick={applyCoupon} disabled={couponStatus === 'valid' || !coupon}>{t.apply}</button>
                </div>
                {couponStatus === 'valid' && <p className="coupon-msg success">âœ“ {t.discountApplied.replace('{0}', discount)}</p>}
                {couponStatus === 'invalid' && <p className="coupon-msg error">{t.invalidCoupon}</p>}
              </div>

              <div className="payment-section">
                <label className="input-label">{t.paymentMethod}</label>
                <div className="payment-tabs">
                  <button className={`payment-tab ${paymentMethod === 'pix' ? 'active' : ''}`} onClick={() => { setPaymentMethod('pix'); setPixData(null); }}>PIX</button>
                  <button className={`payment-tab ${paymentMethod === 'card' ? 'active' : ''}`} onClick={() => { setPaymentMethod('card'); setPixData(null); }}>{lang === 'pt' ? 'CartÃ£o' : 'Card'}</button>
                </div>

                {paymentMethod === 'pix' && pixData && (
                  <div className="pix-container">
                    <div className="pix-qr">
                      {pixData.qrBase64 ? (
                        <img src={`data:image/png;base64,${pixData.qrBase64}`} alt="QR Code PIX" />
                      ) : 'QR Code PIX'}
                    </div>
                    {pixData.code && (
                      <>
                        <div className="pix-code">{pixData.code.substring(0, 60)}...</div>
                        <button className="btn btn-secondary btn-full" onClick={() => navigator.clipboard.writeText(pixData.code)}>
                          {t.copyPixCode}
                        </button>
                      </>
                    )}
                    <div className="pix-status checking" style={{ marginTop: '16px' }}>
                      <div className="spinner"></div>
                      {t.waitingPayment}
                    </div>
                  </div>
                )}

                {(!pixData || paymentMethod === 'card') && (
                  <button className="btn btn-primary btn-lg btn-full" onClick={createPayment} disabled={!email || !email.includes('@') || processing} style={{ marginTop: '16px' }}>
                    {processing ? t.processing : `${t.pay} ${formatPrice(finalPrice, config.business.currency)}`}
                  </button>
                )}

                {error && <div className="payment-error">{error}</div>}
              </div>

              <p className="checkout-trust">{t.securePay}</p>
              <div className="checkout-legal">{config.business.legalText}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONFIRMATION PAGE - COM GERAÃ‡ÃƒO REAL DE PDF E ENVIO DE EMAIL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const ConfirmationPage = ({ navigate, pageData, config, lang, setLang }) => {
  const t = T[lang];
  const [status, setStatus] = useState('generating'); // generating | success | error
  const [errorMsg, setErrorMsg] = useState('');

  useEffect(() => {
    const generateAndSend = async () => {
      if (!pageData?.answers || !pageData?.email) {
        setStatus('error');
        setErrorMsg('Missing data');
        return;
      }

      try {
        // 1. Gerar PDF
        const pdfResult = await API.generatePDF({
          answers: pageData.answers,
          lang: pageData.lang || lang,
          orderId: pageData.orderId
        });

        if (pdfResult.error) {
          throw new Error(pdfResult.error);
        }

        // 2. Enviar email
        const emailResult = await API.sendEmail({
          email: pageData.email,
          name: pageData.answers.name,
          pdfBase64: pdfResult.pdf,
          lang: pageData.lang || lang,
          orderId: pageData.orderId,
          supportEmail: config.business.supportEmail
        });

        if (emailResult.error) {
          throw new Error(emailResult.error);
        }

        setStatus('success');
      } catch (err) {
        console.error('Error:', err);
        setStatus('error');
        setErrorMsg(err.message);
      }
    };

    generateAndSend();
  }, [pageData, lang, config.business.supportEmail]);

  return (
    <div className="app">
      <Nav onLogoClick={() => navigate('/')} lang={lang} setLang={setLang} />
      <div className="container">
        <div className="confirmation-page">
          <div className="confirmation-content">
            <div className="confirmation-icon">âœ“</div>
            <h1>{t.paymentConfirmed}</h1>
            <p>{t.thankYou}</p>

            <div className="confirmation-box">
              <p>{t.preparingPlan}</p>
              <p className="email">{pageData?.email || 'seu email'}</p>
              
              {status === 'generating' && (
                <div className="confirmation-loader">
                  <div className="spinner"></div>
                  {t.generatingPdf}
                </div>
              )}
              
              {status === 'success' && (
                <div className="confirmation-loader success">
                  <Icon.Check /> {t.pdfSent}
                </div>
              )}
              
              {status === 'error' && (
                <div className="confirmation-loader error">
                  âš ï¸ {t.pdfError} {errorMsg && `(${errorMsg})`}
                </div>
              )}
            </div>

            <p style={{ color: 'var(--text-3)', fontSize: '0.875rem', marginBottom: '24px' }}>
              {t.checkSpam} {config.business.supportEmail}
            </p>

            <button className="btn btn-secondary" onClick={() => navigate('/')}>
              <Icon.Home /> {t.backHome}
            </button>
          </div>
        </div>
      </div>
    </div>
  );
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ADMIN LOGIN
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const AdminLogin = ({ onLogin, adminCreds, lang }) => {
  const t = T[lang].admin;
  const [email, setEmail] = useState('');
  const [pass, setPass] = useState('');
  const [error, setError] = useState('');

  const handleSubmit = e => {
    e.preventDefault();
    if (email === adminCreds.email && pass === adminCreds.password) {
      onLogin();
    } else {
      setError(t.wrongCredentials);
    }
  };

  return (
    <div className="app">
      <div className="container">
        <div className="login-page">
          <div className="login-card">
            <h1>{t.title}</h1>
            <p>{t.login}</p>
            {error && <div className="login-error">{error}</div>}
            <form onSubmit={handleSubmit}>
              <div className="input-group">
                <label className="input-label">{t.email}</label>
                <input type="email" className="input" value={email} onChange={e => setEmail(e.target.value)} placeholder="admin@clarity.com" />
              </div>
              <div className="input-group">
                <label className="input-label">{t.password}</label>
                <input type="password" className="input" value={pass} onChange={e => setPass(e.target.value)} placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />
              </div>
              <button type="submit" className="btn btn-primary btn-full">{t.enter}</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  );
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ADMIN DASHBOARD
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const AdminDashboard = ({ orders, config, setConfig, adminCreds, setAdminCreds, onLogout, navigate, lang }) => {
  const t = T[lang].admin;
  const [tab, setTab] = useState('overview');
  const [saved, setSaved] = useState(false);

  const showSaved = () => { setSaved(true); setTimeout(() => setSaved(false), 2000); };

  const updateConfig = (path, value) => {
    const keys = path.split('.');
    setConfig(prev => {
      const n = JSON.parse(JSON.stringify(prev));
      let c = n;
      for (let i = 0; i < keys.length - 1; i++) { c = c[keys[i]]; }
      c[keys[keys.length - 1]] = value;
      return n;
    });
    showSaved();
  };

  const stats = {
    total: orders.length,
    revenue: orders.reduce((s, o) => s + (o.price || 0), 0),
    today: orders.filter(o => new Date(o.createdAt).toDateString() === new Date().toDateString()).length
  };

  return (
    <div className="admin-layout">
      <aside className="admin-sidebar">
        <div className="admin-brand">
          <h1>Clarity<span style={{ color: 'var(--accent)' }}>.</span></h1>
          <p>Admin Panel</p>
        </div>
        <nav className="admin-nav">
          <button className={`admin-nav-item ${tab === 'overview' ? 'active' : ''}`} onClick={() => setTab('overview')}><Icon.Chart /> <span>{t.overview}</span></button>
          <button className={`admin-nav-item ${tab === 'orders' ? 'active' : ''}`} onClick={() => setTab('orders')}><Icon.Card /> <span>{t.orders}</span></button>
          <button className={`admin-nav-item ${tab === 'config' ? 'active' : ''}`} onClick={() => setTab('config')}><Icon.Settings /> <span>{t.settings}</span></button>
          <div className="admin-divider" />
          <button className="admin-nav-item" onClick={() => navigate('/')}><Icon.Eye /> <span>{t.viewSite}</span></button>
          <button className="admin-nav-item" onClick={onLogout}><Icon.Logout /> <span>{t.logout}</span></button>
        </nav>
      </aside>

      <main className="admin-main">
        {tab === 'overview' && (
          <>
            <div className="admin-header"><h1>{t.overview}</h1></div>
            <div className="admin-stats">
              <div className="stat-card"><div className="stat-label">{t.totalOrders}</div><div className="stat-value">{stats.total}</div></div>
              <div className="stat-card"><div className="stat-label">{t.totalRevenue}</div><div className="stat-value">{formatPrice(stats.revenue, config.business.currency)}</div></div>
              <div className="stat-card"><div className="stat-label">{t.ordersToday}</div><div className="stat-value">{stats.today}</div></div>
            </div>
            <div className="admin-card">
              <div className="admin-card-header"><h3>{t.recentOrders}</h3></div>
              <table className="admin-table">
                <thead><tr><th>ID</th><th>Email</th><th>{lang === 'pt' ? 'Valor' : 'Amount'}</th><th>Status</th><th>{lang === 'pt' ? 'Data' : 'Date'}</th></tr></thead>
                <tbody>
                  {orders.slice(-5).reverse().map(o => (
                    <tr key={o.id}><td>{o.id}</td><td>{o.email}</td><td>{formatPrice(o.price, o.currency)}</td><td><span className="badge badge-success">{o.status}</span></td><td>{new Date(o.createdAt).toLocaleDateString()}</td></tr>
                  ))}
                  {orders.length === 0 && <tr><td colSpan="5" style={{ textAlign: 'center', color: 'var(--text-4)' }}>{t.noOrders}</td></tr>}
                </tbody>
              </table>
            </div>
          </>
        )}

        {tab === 'orders' && (
          <>
            <div className="admin-header"><h1>{t.orders}</h1><p>{t.allOrders}</p></div>
            <div className="admin-card">
              <table className="admin-table">
                <thead><tr><th>ID</th><th>{lang === 'pt' ? 'Nome' : 'Name'}</th><th>Email</th><th>{lang === 'pt' ? 'Valor' : 'Amount'}</th><th>{lang === 'pt' ? 'Cupom' : 'Coupon'}</th><th>{lang === 'pt' ? 'Pagamento' : 'Payment'}</th><th>{lang === 'pt' ? 'Data' : 'Date'}</th></tr></thead>
                <tbody>
                  {orders.map(o => (
                    <tr key={o.id}><td>{o.id}</td><td>{o.name || '-'}</td><td>{o.email}</td><td>{formatPrice(o.price, o.currency)}</td><td>{o.couponUsed || '-'}</td><td>{o.paymentMethod?.toUpperCase()}</td><td>{new Date(o.createdAt).toLocaleString()}</td></tr>
                  ))}
                  {orders.length === 0 && <tr><td colSpan="7" style={{ textAlign: 'center', color: 'var(--text-4)' }}>{t.noOrders}</td></tr>}
                </tbody>
              </table>
            </div>
          </>
        )}

        {tab === 'config' && (
          <>
            <div className="admin-header" style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>
              <div><h1>{t.settings}</h1></div>
              {saved && <div className="save-toast">âœ“ Saved</div>}
            </div>

            {/* API Status - Read Only */}
            <div className="admin-card">
              <div className="admin-card-header"><h3>ğŸ”‘ {t.apiStatus}</h3></div>
              <div className="admin-card-body">
                <p style={{ color: 'var(--text-3)', marginBottom: '16px', fontSize: '0.875rem' }}>{t.apisNote}</p>
                <div style={{ display: 'flex', gap: '12px', flexWrap: 'wrap' }}>
                  <span className="api-status configured">OpenAI: {t.configured}</span>
                  <span className="api-status configured">Mercado Pago: {t.configured}</span>
                  <span className="api-status configured">Resend: {t.configured}</span>
                </div>
              </div>
            </div>

            <div className="admin-card">
              <div className="admin-card-header"><h3>ğŸ’° {t.businessSettings}</h3></div>
              <div className="admin-card-body">
                <div className="config-grid">
                  <div className="input-group">
                    <label className="input-label">{t.price}</label>
                    <input type="number" step="0.01" className="input" value={config.business.price} onChange={e => updateConfig('business.price', parseFloat(e.target.value) || 0)} />
                  </div>
                  <div className="input-group">
                    <label className="input-label">{t.currency}</label>
                    <select className="input" value={config.business.currency} onChange={e => updateConfig('business.currency', e.target.value)}>
                      <option value="BRL">BRL (R$)</option>
                      <option value="USD">USD ($)</option>
                      <option value="EUR">EUR (â‚¬)</option>
                    </select>
                  </div>
                  <div className="input-group">
                    <label className="input-label">{t.couponCode}</label>
                    <input type="text" className="input" value={config.business.couponCode} onChange={e => updateConfig('business.couponCode', e.target.value.toUpperCase())} />
                  </div>
                  <div className="input-group">
                    <label className="input-label">{t.couponDiscount}</label>
                    <input type="number" className="input" value={config.business.couponDiscount} onChange={e => updateConfig('business.couponDiscount', parseInt(e.target.value) || 0)} />
                  </div>
                  <div className="input-group config-full">
                    <label className="input-label">{t.supportEmail}</label>
                    <input type="email" className="input" value={config.business.supportEmail} onChange={e => updateConfig('business.supportEmail', e.target.value)} />
                  </div>
                  <div className="input-group config-full">
                    <label className="input-label">{t.legalText}</label>
                    <textarea className="input" style={{ minHeight: '80px' }} value={config.business.legalText} onChange={e => updateConfig('business.legalText', e.target.value)} />
                  </div>
                </div>
              </div>
            </div>

            <div className="admin-card">
              <div className="admin-card-header"><h3>ğŸ‘¤ {t.adminAccount}</h3></div>
              <div className="admin-card-body">
                <div className="config-grid">
                  <div className="input-group">
                    <label className="input-label">{t.adminEmail}</label>
                    <input type="email" className="input" value={adminCreds.email} onChange={e => { setAdminCreds(p => ({ ...p, email: e.target.value })); showSaved(); }} />
                  </div>
                  <div className="input-group">
                    <label className="input-label">{t.adminPassword}</label>
                    <input type="password" className="input" value={adminCreds.password} onChange={e => { setAdminCreds(p => ({ ...p, password: e.target.value })); showSaved(); }} />
                  </div>
                </div>
              </div>
            </div>
          </>
        )}
      </main>
    </div>
  );
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MAIN APP
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const App = () => {
  const [route, setRoute] = useState(window.location.hash.slice(1) || '/');
  const [pageData, setPageData] = useState(null);
  const [answers, setAnswers] = useState({});
  const [config, setConfig] = useState(getConfig);
  const [orders, setOrders] = useState(getOrders);
  const [adminCreds, setAdminCreds] = useState(getAdmin);
  const [adminLoggedIn, setAdminLoggedIn] = useState(false);
  const [lang, setLang] = useState(detectLanguage);

  // Persist state
  useEffect(() => { localStorage.setItem('clarity_config', JSON.stringify(config)); }, [config]);
  useEffect(() => { localStorage.setItem('clarity_orders', JSON.stringify(orders)); }, [orders]);
  useEffect(() => { localStorage.setItem('clarity_admin', JSON.stringify(adminCreds)); }, [adminCreds]);
  useEffect(() => { localStorage.setItem('clarity_lang', lang); }, [lang]);

  // Hash routing
  useEffect(() => {
    const handleHash = () => setRoute(window.location.hash.slice(1) || '/');
    window.addEventListener('hashchange', handleHash);
    return () => window.removeEventListener('hashchange', handleHash);
  }, []);

  const navigate = (path, data = null) => {
    window.location.hash = path;
    setRoute(path);
    setPageData(data);
    window.scrollTo(0, 0);
  };

  // Admin shortcut
  useEffect(() => {
    const handler = e => { if (e.ctrlKey && e.shiftKey && e.key === 'A') navigate('/admin'); };
    window.addEventListener('keydown', handler);
    return () => window.removeEventListener('keydown', handler);
  }, []);

  // Check for returning payment
  useEffect(() => {
    const pending = localStorage.getItem('clarity_pending_order');
    if (pending && route === '/confirmacao') {
      const order = JSON.parse(pending);
      localStorage.removeItem('clarity_pending_order');
      setOrders(prev => [...prev, { ...order, status: 'completed', createdAt: new Date().toISOString() }]);
      setPageData({ email: order.email, orderId: order.orderId, answers: order.answers, lang: order.lang });
    }
  }, [route]);

  // Routes
  if (route === '/admin') {
    if (!adminLoggedIn) return <AdminLogin onLogin={() => setAdminLoggedIn(true)} adminCreds={adminCreds} lang={lang} />;
    return <AdminDashboard orders={orders} config={config} setConfig={setConfig} adminCreds={adminCreds} setAdminCreds={setAdminCreds} onLogout={() => { setAdminLoggedIn(false); navigate('/'); }} navigate={navigate} lang={lang} />;
  }

  const routes = {
    '/': <LandingPage navigate={navigate} config={config} lang={lang} setLang={setLang} />,
    '/diagnostico': <DiagnosisPage navigate={navigate} answers={answers} setAnswers={setAnswers} lang={lang} setLang={setLang} />,
    '/resultado-parcial': <ResultPage navigate={navigate} answers={answers} config={config} lang={lang} setLang={setLang} />,
    '/checkout': <CheckoutPage navigate={navigate} answers={answers} config={config} setOrders={setOrders} lang={lang} setLang={setLang} />,
    '/confirmacao': <ConfirmationPage navigate={navigate} pageData={pageData} config={config} lang={lang} setLang={setLang} />
  };

  return <div className="app"><div className="container">{routes[route] || routes['/']}</div></div>;
};

ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
